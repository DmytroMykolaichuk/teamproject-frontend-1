{"version":3,"file":"static/js/656.12cd166d.chunk.js","mappings":"4VAEaA,E,SAAgBC,GAAAA,QAAcC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,wE,WCE3C,EAFwB,SAAHC,GAAA,IAAMC,EAAQD,EAARC,SAAQ,OAAOC,EAAAA,EAAAA,KAACN,EAAa,CAAAK,SAAEA,GAA0B,EC0DpF,EAlDqB,WACnB,IAAME,GAAWC,EAAAA,EAAAA,MACTC,GAAaC,EAAAA,EAAAA,MAAbD,SACFE,GAAWC,EAAAA,EAAAA,MAEXC,GAAcC,EAAAA,EAAAA,SAAO,IAAIC,KAAQ,cAEjCC,GAAoBC,EAAAA,EAAAA,SAASJ,EAAa,aAAc,IAAIE,MAC5DG,GAAmBC,EAAAA,EAAAA,SAAaH,GAChCI,GAAiBC,EAAAA,EAAAA,SAAWL,GAC5BM,GAAyBR,EAAAA,EAAAA,SAAOI,EAAkB,cAClDK,GAAuBT,EAAAA,EAAAA,SAAOM,EAAgB,cA6BpD,OA3BAI,EAAAA,EAAAA,YAAU,WAC0Cf,EAASgB,OAAS,IAClElB,EAAS,mBAADmB,OAAoBb,GAEhC,GAAG,CAACA,EAAaN,EAAUE,KAE3Be,EAAAA,EAAAA,YAAU,WACR,IAAMG,EAAW,eAAAvB,GAAAwB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,OAAAF,EAAAA,EAAAA,KAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEVxB,GACJyB,EAAAA,EAAAA,IAAW,CACTC,WAAYf,EACZgB,SAAUf,KAEZgB,SAAS,KAAD,EAAAN,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAO,GAAAP,EAAA,SAEVQ,IAAAA,KAAU,CACRC,KAAM,QACNC,MAAO,UACPC,KAAM,wBACNC,mBAAoB,YACnB,wBAAAZ,EAAAa,OAAA,GAAAf,EAAA,kBAEN,kBAhBgB,OAAA3B,EAAA2C,MAAA,KAAAC,UAAA,KAiBjBrB,GACF,GAAG,CAAChB,EAAUY,EAAsBD,KAGlC2B,EAAAA,EAAAA,MAACC,EAAe,CAAA7C,SAAA,EACdC,EAAAA,EAAAA,KAAC6C,EAAAA,EAAe,KAChB7C,EAAAA,EAAAA,KAAC8C,EAAAA,SAAQ,CAACC,UAAU/C,EAAAA,EAAAA,KAACgD,EAAAA,GAAO,IAAIjD,UAC9BC,EAAAA,EAAAA,KAACiD,EAAAA,GAAM,QAIf,C","sources":["components/Common/CalendarSection/CalendarSection.styled.js","components/Common/CalendarSection/CalendarSection.js","pages/CalendarPage.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const StyledSection = styled.section`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n","import { StyledSection } from './CalendarSection.styled';\n\nconst CalendarSection = ({ children }) => <StyledSection>{children}</StyledSection>;\n\nexport default CalendarSection;","import { Suspense, useEffect } from 'react';\nimport { Outlet, useNavigate, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { startOfMonth, endOfMonth, format, parseISO } from 'date-fns';\nimport Swal from 'sweetalert2';\nimport { fetchTasks } from 'redux/tasks/operations';\nimport { CalendarToolbar } from '../components/CalendarPage/index';\nimport { Spinner } from 'components/Common';\nimport CalendarSection from 'components/Common/CalendarSection/CalendarSection';\n\nconst CalendarPage = () => {\n  const navigate = useNavigate();\n  const { pathname } = useLocation();\n  const dispatch = useDispatch();\n\n  const currentDate = format(new Date(), 'yyyy-MM-dd');\n\n  const currentDateObject = parseISO(currentDate, 'yyyy-MM-dd', new Date());\n  const startOfMonthDate = startOfMonth(currentDateObject);\n  const endOfMonthDate = endOfMonth(currentDateObject);\n  const formatedStartMonthDate = format(startOfMonthDate, 'yyyy-MM-dd');\n  const formatedEndMonthDate = format(endOfMonthDate, 'yyyy-MM-dd');\n\n  useEffect(() => {\n    if ((pathname === '/calendar' || '/calendar/') && pathname.length < 11) {\n      navigate(`/calendar/month/${currentDate}`);\n    }\n  }, [currentDate, navigate, pathname]);\n\n  useEffect(() => {\n    const getAllTasks = async () => {\n      try {\n        await dispatch(\n          fetchTasks({\n            monthStart: formatedStartMonthDate,\n            monthEnd: formatedEndMonthDate,\n          })\n        ).unwrap();\n      } catch (error) {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: 'Something went wrong!',\n          confirmButtonColor: '#3E85F3',\n        });\n      }\n    };\n    getAllTasks();\n  }, [dispatch, formatedEndMonthDate, formatedStartMonthDate]);\n\n  return (\n    <CalendarSection>\n      <CalendarToolbar />\n      <Suspense fallback={<Spinner />}>\n        <Outlet />\n      </Suspense>\n    </CalendarSection>\n  );\n};\n\nexport default CalendarPage;\n"],"names":["StyledSection","styled","_templateObject","_taggedTemplateLiteral","_ref","children","_jsx","navigate","useNavigate","pathname","useLocation","dispatch","useDispatch","currentDate","format","Date","currentDateObject","parseISO","startOfMonthDate","startOfMonth","endOfMonthDate","endOfMonth","formatedStartMonthDate","formatedEndMonthDate","useEffect","length","concat","getAllTasks","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","fetchTasks","monthStart","monthEnd","unwrap","t0","Swal","icon","title","text","confirmButtonColor","stop","apply","arguments","_jsxs","CalendarSection","CalendarToolbar","Suspense","fallback","Spinner","Outlet"],"sourceRoot":""}